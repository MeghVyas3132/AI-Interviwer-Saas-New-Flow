# =============================================================================
# AI Interview Assistant - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in the values

# -----------------------------------------------------------------------------
# General
# -----------------------------------------------------------------------------
NODE_ENV=development
LOG_LEVEL=debug

# -----------------------------------------------------------------------------
# API Gateway
# -----------------------------------------------------------------------------
API_GATEWAY_PORT=3000
API_GATEWAY_HOST=0.0.0.0

# Internal API Keys (for service-to-service communication)
INTERNAL_API_KEY=your-internal-api-key-change-in-production

# JWT (shared with main AI Interviewer monolith)
JWT_SECRET=your-jwt-secret-from-main-app
JWT_EXPIRY=24h

# -----------------------------------------------------------------------------
# Database (PostgreSQL)
# -----------------------------------------------------------------------------
DATABASE_URL=postgresql://postgres:postgres@postgres:5432/ai_interview_assistant
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=ai_interview_assistant

# -----------------------------------------------------------------------------
# Redis
# -----------------------------------------------------------------------------
REDIS_URL=redis://redis:6379
REDIS_HOST=redis
REDIS_PORT=6379

# -----------------------------------------------------------------------------
# VideoSDK
# -----------------------------------------------------------------------------
VIDEOSDK_API_KEY=your-videosdk-api-key
VIDEOSDK_SECRET=your-videosdk-secret
VIDEOSDK_API_ENDPOINT=https://api.videosdk.live/v2

# -----------------------------------------------------------------------------
# Speech Analysis Service
# -----------------------------------------------------------------------------
SPEECH_SERVICE_URL=http://speech-service:8001
SPEECH_SERVICE_PORT=8001

# Deepgram (Primary STT)
DEEPGRAM_API_KEY=your-deepgram-api-key

# Whisper (Fallback STT) - runs locally
WHISPER_MODEL_SIZE=base

# -----------------------------------------------------------------------------
# Video Analysis Service
# -----------------------------------------------------------------------------
VIDEO_SERVICE_URL=http://video-service:8002
VIDEO_SERVICE_PORT=8002

# -----------------------------------------------------------------------------
# Fraud Detection Service
# -----------------------------------------------------------------------------
FRAUD_SERVICE_URL=http://fraud-service:8003
FRAUD_SERVICE_PORT=8003

# -----------------------------------------------------------------------------
# NLP Service
# -----------------------------------------------------------------------------
NLP_SERVICE_URL=http://nlp-service:8004
NLP_SERVICE_PORT=8004

# OpenAI (for resume contradiction detection)
OPENAI_API_KEY=your-openai-api-key
OPENAI_MODEL=gpt-4-turbo-preview

# Alternative: Anthropic Claude
ANTHROPIC_API_KEY=your-anthropic-api-key
ANTHROPIC_MODEL=claude-3-sonnet-20240229

# LLM Provider: "openai" or "anthropic"
LLM_PROVIDER=openai

# -----------------------------------------------------------------------------
# Circuit Breaker Settings
# -----------------------------------------------------------------------------
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_SUCCESS_THRESHOLD=3
CIRCUIT_BREAKER_TIMEOUT=30000

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# -----------------------------------------------------------------------------
# CORS (comma-separated origins)
# -----------------------------------------------------------------------------
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# -----------------------------------------------------------------------------
# Monitoring (Optional)
# -----------------------------------------------------------------------------
SENTRY_DSN=
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
